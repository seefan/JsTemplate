/*! xtemplate 17-05-2016 */
!function(a,b,c){"use strict";a.$scope={},c.$bindKey={},c.syntax={},c.funcs={},c.util={},c.init=function(){var a,b;if(this.hideRepeat)for(a=c.util.querySelectorAll("[data-repeat-name]"),b=0;b<a.length;b++)this.util.show(a[b],!1);if(this.hideBind)for(a=c.util.querySelectorAll("[data-bind]"),b=0;b<a.length;b++)this.util.show(a[b],!1)},c.bindData=function(b,d){"undefined"==typeof d&&(d=b,b="__data__"),a.$scope[b]=d;var e=c.util.querySelectorAll("[data-bind]");if(e&&e.length){var f,g,h,i,j;for(f=0;f<e.length;f++){g="",j=e[f].attributes["data-bind"].value;var k=this.util.getBindToNameList(e[f]),l=0;if(k.length>0)for(;l<k.length;l++){i=k[l],h=e[f].attributes[i]?e[f].attributes[i].value:e[f][i];var m=c.syntax.cacheFunc("bind",h,h);g=m.func?m.func(this,d):"innerHTML"===i?this.util.getValue(j,d):this.util.html(this.util.getValue(j,d))}else if("IMG"==e[f].tagName&&e[f].attributes["data-bind-src"]){var n=c.syntax.cacheFunc("bind",e[f].attributes["data-bind-src"].value,e[f].attributes["data-bind-src"].value);g=n.func?n.func(this,d):this.util.getValue(j,d)}else g=this.util.html(this.util.getValue(j,d));this.util.setValue(e[f],g),this.util.show(e[f])}}},c.bindName=function(a,b){var d=c.util.querySelectorAll('[data-bind="'+a+'"]');if(d)for(var e=0;e<d.length;e++)this.util.setValue(d[e],b),this.util.show(d[e])},c.bindRepeatData=function(a,b,d,e,f){if("undefined"==typeof b&&(b=a,a="data"),b&&!(b.length<1))for(var g=c.util.querySelectorAll('[data-repeat-name="'+a+'"]'),h=0;h<g.length;h++)c.doRepeat(a+"_"+h,b,d,e,f,g[h])},c.doRepeat=function(a,b,c,d,e,f){"string"!=typeof e&&(e=f.innerHTML);var g=this.syntax.cacheFunc("repeat",a,e),h=0;(!c||g.isFirst)&&(f.innerHTML="");var i=g.func;if(i)if(d===!0)this.appendData(b,0,f,i,c);else{var j="";for(h=0;h<b.length;h++)j+=i(this,b[h]);this.setRepeatHtml(f,j,c)}},c.appendData=function(a,b,d,e,f){c.setRepeatHtml(d,e(this,a[b]),0===b?f===!0?!0:!1:!0),b++,b<a.length&&setTimeout(function(){c.appendData(a,b,d,e,f)},50)},c.setRepeatHtml=function(a,b,d){d===!0?a.innerHTML+=b:a.innerHTML=b,c.util.show(a)},c.addFunc=function(a,b){b&&a&&(this.funcs[a]=b)}}(window,document,window.Render={}),function(a,b){"use strict";b.trim=function(a){return"string"==typeof a?a.replace(/\r/g,"").replace(/\n/g,"").replace("　","").trim():b.isPlainObject(a)?b.trim(b.getDefaultValue(a)):String.valueOf(a)},b.isPlainObject=function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},b.setValue=function(a,b){var c=a.tagName,d=0,e=this.getBindToNameList(a);if(e.length>0)for(d in e){var f=e[d];a.attributes[f]?a.setAttribute(f,b):a[f]=b}else switch(c){case"IMG":a.src=b;break;case"INPUT":a.value=b;break;case"SELECT":for(d=0;d<a.options.length;d++)if(a.options[d].value==b){a.options[d].selected=!0;break}break;default:a.innerHTML=b}},b.html=function(a){return a&&"string"==typeof a?(a=a.replace(/<[^<]*>/gi,""),a.trim()):this.getDefaultValue(a)},b.isArray=Array.isArray||function(a){return a instanceof Array},b.getName=function(a,c){var d=c[a],e=typeof d;switch(e){case"string":case"number":case"boolean":return[a];case"object":if(b.isArray(d))return[a];var f=[];for(var g in d)if(d[g])for(var h=b.getName(g,d),i=0;i<h.length;i++)f.push(a+"."+h[i]);return f;default:return[]}},b.startWith=function(a,b){return a&&b&&a.length>b.length&&a.substr(0,b.length)==b?!0:!1},b.isNumber=function(a){var b=/^(-?\d+)(\.\d+)?/;return null!==a.match(b)},b.getValue=function(a,b){for(var c=a.split("."),d=b[c.shift()],e=0;d&&e<c.length;e++)d=d[c[e]];return this.getDefaultValue(d)},b.getDefaultValue=function(a){return null===a||"undefined"==typeof a?"":a},b.gotoUrl=function(){var b="",c=0;for(arguments.length>0&&(b=arguments[c]),b+=-1!=b.indexOf("?")?"&":"?",c=1;c<arguments.length-1;c+=2)b+=arguments[c]+"="+encodeURIComponent(arguments[c+1])+"&";a.location.href=b},b.getBindToNameList=function(a){var c=a.attributes["data-bind-to"],d=[];if(c&&c.value)for(var e,f=c.value.split(" "),g=0;g<f.length;g++)e=b.trim(f[g]),""!==e&&d.push(e);return d},b.show=function(a,c){a&&(c!==!1?("none"==a.style.display&&(a.style.display=""),b.removeClass(a,"hide")):a.style.display="none")},b.addClass=function(a,b){if(a.classList)a.classList.contains(b)||a.classList.add(b);else{var c=a.className;if(c){for(var d=c.split(" "),e=!1,f=0;f<d.length;f++)d[f]==b&&(e=!0);e||d.push(b),c=d.join(" ")}else c=b;a.className=c}},b.removeClass=function(a,b){if(a.classList)a.classList.contains(b)&&a.classList.remove(b);else{var c=a.className;if(c){var d=c.split(" ");c="";for(var e=0;e<d.length;e++)d[e]!=b&&(c+=d[e]);a.className=c}}},b.getUrlQuery=function(){var b={},c=a.location.search;if(c&&c.length>1){c=c.substring(1);var d=c.indexOf("#");-1!=d&&(c=c.substring(0,d));for(var e=c.split("&"),f=0;f<e.length;f++)if(d=e[f].indexOf("="),-1!=d){var g=e[f].substring(0,d);if(g){var h=e[f].substring(d+1);h&&(b[g]=decodeURIComponent(h))}}}return b},b.querySelectorAll=function(a){return document.querySelectorAll?document.querySelectorAll(a):void 0}}(window,window.Render.util),function(a){function b(a){for(var b,e=0,f=0,g=0,h=[];e<a.length;)f=a.indexOf("{",e),-1!==f?(g=i(a,f,"}"),-1===g&&(g=a.length),b=a.substring(f+1,g).trim(),h.push(c(a.substring(e,f))),""!==b&&h.push(d(b))):(h.push(c(a.substring(e))),g=a.length),e=g+1;return h.join("+")}function c(b){return"string"==typeof b?'"'+b.replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace("data-bind-src","src")+'"':a.util.getStringValue(b)}function d(a){var b=!0;if("!"==a[0]&&(a=a.substring(1),b=!1),a){var c=h(a);if(c.length>0)return b?"Render.util.html("+e(c,c.length-1)+")":e(c,c.length-1)}return'""'}function e(a,b){if(1===a.length)return g(a[0]);if(!(b>0))return g(a[0]);for(var c=[],d=0,h="";b>=0;b--){if("|"===a[b]){var i=c.pop();for(d=c.length;d>0;d--)h+=g(c[d-1]);return h=e(a,b-1)+h,f(i)+"("+h+")"}c.push(a[b])}if(c.length>0){for(d=c.length;d>0;d--)h+=g(c[d-1]);return h}return""}function f(b){return b&&b.length>1&&"#"==b.charAt(0)?b.substring(1):a.funcs[b]?'my.funcs["'+b+'"]':"my.funcs.noFunc"}function g(a){var b="";switch(a.charAt(0)){case"+":case"-":case"*":case"/":case"(":case")":case"'":case'"':case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":b+=a;break;case"|":b+="+";break;case",":b+=",";break;case"#":b+=a.substring(1);break;default:b+="my.util.getValue('"+a+"',vo)"}return""===b?"''":b}function h(a){for(var b,c=[],d="",e=0,f=0;f<a.length;f++)switch(b=a.charAt(f)){case"|":case",":case"+":case"-":case"*":case"/":""!==d&&(c.push(d),d=""),c.push(b);break;case'"':case"'":""!==d&&(c.push(d),d=""),e=i(a,f,b),e>0&&(c.push(a.substring(f,e+1)),f=e);break;default:b&&" "!==b&&(d+=b)}return""!==d&&c.push(d),c}function i(a,b,c){for(var d=b+1;d<a.length;d++){if(a.charAt(d)==c)return d;if('"'==a.charAt(d)||"'"==a.charAt(d)){if(b=i(a,d,a.charAt(d)),0===b)return 0;d=b}}return 0}a.syntax.cache={},a.syntax.buildFunc=function(c,d){var e;try{e=decodeURIComponent(d)}catch(f){e=d}if(e=a.util.trim(e),e.length>0){var g="return "+b(e)+";";try{return new Function("my","vo",g)}catch(f){console.log("解析模板"+c+"出错，"+f.message),console.log(g)}}return!1},a.syntax.cacheFunc=function(a,b,c){var d=this.cache[a+"-func-"+b],e={func:d};return d||(d=this.buildFunc(b,c),d&&(this.cache[a+"-func-"+b]=d,e.isFirst=!0,e.func=d)),e}}(window.Render),function(a,b){"use strict";a.addFunc("default",function(a,c){return a===b||"undefined"==typeof a||""===a||"null"===a?c:a}),a.addFunc("empty",function(a,c,d){return a===b||"undefined"==typeof a||""===a||"null"===a?c:d}),a.addFunc("case",function(a){for(var b=1;b<arguments.length;b+=2)if(a==arguments[b]&&b<arguments.length-1)return arguments[b+1];return arguments[arguments.length-1]}),a.addFunc("format_money",function(a){return parseFloat(a)}),a.addFunc("format_date",function(a,b){"object"!=typeof a&&(a=new Date(parseInt(a))),b||(b="yyyy-MM-dd hh:mm:ss");var c={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var d in c)new RegExp("("+d+")").test(b)&&(b=b.replace(RegExp.$1,1==RegExp.$1.length?c[d]:("00"+c[d]).substr((""+c[d]).length)));return b}),a.addFunc("fixed",function(a,b){return"undefined"==typeof b&&(b=0),"number"==typeof a?a.toFixed(b):a}),a.addFunc("noFunc",function(a){return"没有找到正确的处理函数"}),a.addFunc("repeat",function(a,b){for(var c="",d=0;a>d;d++)c+=b;return c}),a.addFunc("range",function(b,c){var d="";if(c){c=c.replace(/\(/g,"{").replace(/\)/g,"}");var e=a.syntax.buildFunc("range",c);if(e)for(var f=0;f<b.length;f++)d+=e(a,b[f])}return d}),a.addFunc("filter_html",function(b){return a.util.html(b)}),a.addFunc("left",function(a,b,c){var d=0,e="",f=/[^\x00-\xff]/g,g="",h=0;c&&(h=c.length);for(var i=a.replace(f,"**").length,j=0;i>j;j++){if(g=a.charAt(j).toString(),null!==g.match(f)?d+=2:d++,d+h>b){h>0&&(e+=c);break}e+=g}return e})}(window.Render),function(d,w,x,r){"use strict";x.isInit=!1,x.optAjax=!1,x.hideRepeat=!0,x.hideBind=!1,x.ready=function(a){x.isInit?"function"==typeof a&&(x.callback=a,x.callback()):"function"==typeof a&&(x.callback=a)},x.init=function(){x.isInit||(x.isInit=!0,r.init(),x.callback&&x.callback())},x.query=function(a,b){w.query_args||(w.query_args=r.util.getUrlQuery());var c=w.query_args[a];return"undefined"==typeof c||""===c?b:c},x.util=r.util,x.load=function(id,postUrl,param,dataFilter,callback,errorback){var opt={};opt.url=postUrl,(""===param||"undefined"==typeof param)&&(param=r.util.getUrlQuery()),opt.data=param,opt.type="POST",errorback?opt.error=errorback:x.error_callback?opt.error=x.error_callback:opt.error=function(a,b){console.log(a,b)},opt.success=function(data){"string"==typeof data&&(data=eval("("+data+")"));var ok=!!data;x.checkData&&(x.checkData(data)||(ok=!1)),ok&&dataFilter&&(data=dataFilter(data),data||(ok=!1)),ok&&(r.util.isArray(data)?r.bindRepeatData(id,data):id?r.bindData(id,data):r.bindData(data)),callback&&callback(ok,data)},x.isInit&&(x.optAjax?x.optAjax.ajax(opt):$.ajax(opt))},x.setAjax=function(a){this.optAjax=a};var testReady=function(){return/complete|loaded|interactive/.test(document.readyState)&&document.body?(x.init(),!0):!1},timeReady=function(){testReady()||setTimeout(timeReady,5)};testReady()||(document.addEventListener?document.addEventListener("DOMContentLoaded",function(){testReady()},!1):setTimeout(timeReady,5))}(document,window,window.XTemplate={},window.Render);